# - id: sb_001
#   alias: sb_001
#   trigger:
#     - platform: event
#       event_type: button_pressed
#       event_data: {"state": "on", "entity_id": "switch.duo_switch_sb_l"}
#     - platform: event
#       event_type: button_pressed
#       event_data: {"state": "off", "entity_id": "switch.duo_switch_sb_l"}
#     - platform: event
#       event_type: button_pressed
#       event_data: {"state": "on", "entity_id": "switch.duo_switch_sb_r"}
#     - platform: event
#       event_type: button_pressed
#       event_data: {"state": "off", "entity_id": "switch.duo_switch_sb_r"}
#   action:
#     service_template: >
#       {% if trigger.event.data.state == 'on' %}
#         script.turn_on
#       {% elif trigger.event.data.state == 'off' %}
#         light.turn_off
#       {% endif %}
#     data_template:
#       entity_id: >
#         {% if trigger.event.data.entity_id == 'switch.duo_switch_sb_l' and trigger.event.data.state == 'on' %}
#           script.scene_sb_night
#         {% elif trigger.event.data.entity_id == 'switch.duo_switch_sb_r' and trigger.event.data.state == 'on' %}
#           script.scene_sb_day
#         {% elif trigger.event.data.state == 'off' %}
#           light.lg_sb_all
#         {% endif %}


- id: sb_002
  alias: sb_002
  trigger:
    - platform: state
      entity_id: light.0x00178801023c1a33_light
      to: 'on'
      for:
        hours: 0
        minutes: 45
    - platform: state
      entity_id: switch.dimmable_socket_one
      to: 'on'
      for:
        hours: 1
        minutes: 30
  action:
    service: light.turn_off
    data_template:
      entity_id: "{{ trigger.entity_id }}"


# - id: sb_003
#   alias: sb_003
#   trigger:
#     platform: state
#     entity_id: sensor.0x00158d000404f97e_click
#     to:
#       - 'single'
#       - 'double'
#   action:
#     - service_template: >
#         {% if is_state('light.0x00178801023c1a33_light', 'off') %}
#           script.turn_on
#         {% else %}
#           light.turn_off
#         {% endif %}
#       data_template:
#         entity_id: >
#           {% if trigger.to_state.state == 'single' or trigger.to_state.state == 'double' %}
#             {% if is_state('light.0x00178801023c1a33_light', 'off') %}
#               {% if is_state('binary_sensor.time_for_dim_scenes', 'on') and trigger.to_state.state == 'single' %}
#                 script.scene_sb_night
#               {% else %}
#                 script.scene_sb_day
#               {% endif %}
#             {% else %}
#               light.lg_sb_all
#             {% endif %}
#           {% endif %}