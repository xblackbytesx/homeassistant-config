- id: toilet_001
  alias: toilet_001
  trigger:
    - platform: state
      entity_id: binary_sensor.toilet_motion_detected
      to: 'on'
    - platform: state
      entity_id: binary_sensor.toilet_motion_detected
      to: 'off'
      for:
        minutes: "{{ states('input_number.toilet_motion_timeout')| int }}"
  action:
    service: script.turn_on
    data_template:
      entity_id: script.set_appropriate_scene
      variables:
        trigger_to_state: '{{ trigger.to_state.state }}'
        scene_day: 'scene.toilet_day'
        scene_night: 'scene.toilet_night'
        light_group: 'light.lg_toilet_all'
