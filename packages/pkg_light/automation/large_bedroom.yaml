# - id: lb_001
#   alias: lb_001
#   trigger:
#     - platform: event
#       event_type: button_pressed
#       event_data: {"state": "on", "entity_id": "switch.duo_switch_lb_l"}
#     - platform: event
#       event_type: button_pressed
#       event_data: {"state": "off", "entity_id": "switch.duo_switch_lb_l"}
#     - platform: event
#       event_type: button_pressed
#       event_data: {"state": "on", "entity_id": "switch.duo_switch_lb_r"}
#     - platform: event
#       event_type: button_pressed
#       event_data: {"state": "off", "entity_id": "switch.duo_switch_lb_r"}
#   action:
#     service_template: >
#       {% if trigger.event.data.state == 'on' %}
#         script.turn_on
#       {% elif trigger.event.data.state == 'off' %}
#         light.turn_off
#       {% endif %}
#     data_template:
#       entity_id: >
#         {% if trigger.event.data.entity_id == 'switch.duo_switch_lb_l' and trigger.event.data.state == 'on' %}
#           script.scene_lb_night
#         {% elif trigger.event.data.entity_id == 'switch.duo_switch_lb_r' and trigger.event.data.state == 'on' %}
#           script.scene_lb_day
#         {% elif trigger.event.data.state == 'off' %}
#           light.lg_lb_all
#         {% endif %}


- id: lb_002
  alias: lb_002
  trigger:
    - platform: state
      entity_id: light.0x00178801039d140f_light
      to: 'on'
      for:
        hours: 1
        minutes: 30
    - platform: state
      entity_id: light.ledstrip_large_bedroom
      to: 'on'
      for:
        hours: 2
        minutes: 30
  action:
    service: light.turn_off
    data_template:
      entity_id: "{{ trigger.entity_id }}"


- id: lb_003
  alias: lb_003
  trigger:
    platform: state
    entity_id: sensor.0x00158d00027c3536_click
    to:
      - 'single'
      - 'double'
  action:
    service_template: >
      {% if is_state('light.0x00178801039d140f_light', 'off') %}
        script.turn_on
      {% else %}
        light.turn_off
      {% endif %}
    data_template:
      entity_id: >
        {% if trigger.to_state.state == 'single' or trigger.to_state.state == 'double' %}
          {% if is_state('light.0x00178801039d140f_light', 'off') %}
            {% if is_state('input_boolean.time_for_dim_scenes', 'on') and trigger.to_state.state == 'single' %}
              script.scene_lb_night
            {% else %}
              script.scene_lb_day
            {% endif %}
          {% else %}
            light.lg_lb_all
          {% endif %}
        {% endif %}